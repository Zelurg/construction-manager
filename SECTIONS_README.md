# –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–∞–±–æ—Ç

## üéØ –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤** –≤ –≥—Ä–∞—Ñ–∏–∫–µ —Ä–∞–±–æ—Ç. –†–∞–∑–¥–µ–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ —É—Ä–æ–≤–Ω—è–º.

## üì¶ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend

1. **–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
   - `is_section` (BOOLEAN) - –ø—Ä–∏–∑–Ω–∞–∫ —Ç–æ–≥–æ, —á—Ç–æ —Å—Ç—Ä–æ–∫–∞ —è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª–æ–º
   - `level` (INTEGER) - —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (0, 1, 2, 3...)
   - `parent_code` (VARCHAR) - —à–∏—Ñ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤:**
   - –°—Ç—Ä–æ–∫–∞ **–±–µ–∑ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è** = —Ä–∞–∑–¥–µ–ª
   - –£—Ä–æ–≤–µ–Ω—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–æ—á–µ–∫ –≤ —à–∏—Ñ—Ä–µ

### Frontend

1. **–¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —É—Ä–æ–≤–Ω—è–º (–ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–Ω–∞):**
   - Level 0: üîµ –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π (#E8F4F8)
   - Level 1: üü¢ –°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π (#F0F8E8)
   - Level 2: üü° –°–≤–µ—Ç–ª–æ-–æ—Ä–∞–Ω–∂–µ–≤—ã–π (#FFF4E6)
   - Level 3: üî¥ –°–≤–µ—Ç–ª–æ-—Ä–æ–∑–æ–≤—ã–π (#F8E8F4)
   - Level 4+: üîµ –°–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π (#E8F0F8)

2. **–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—É—Ç—å —Ä–∞–∑–¥–µ–ª–∞ –¥–ª—è –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
   - –ü—Ä–∏–º–µ—Ä: `–†–∞–∑–¥–µ–ª CMP / –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã / –ó–µ–º–ª—è–Ω—ã–µ —Ä–∞–±–æ—Ç—ã`

3. **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –ì–∞–Ω—Ç–∞:**
   - –†–∞–∑–¥–µ–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ –ì–∞–Ω—Ç–∞
   - –†–∞–∑–¥–µ–ª—ã –Ω–µ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞—Ä—è–¥–∞—Ö

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î

```bash
cd backend
python apply_sections_migration.py
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
psql $DATABASE_URL < migrations/add_sections_support.sql
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub

```bash
cd construction-manager
git checkout feature/enhanced-attributes
git pull origin feature/enhanced-attributes
```

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**Backend:**
```bash
cd backend
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**Frontend:**
```bash
cd frontend
npm start
```

## üìù –§–æ—Ä–º–∞—Ç Excel –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

| –®–∏—Ñ—Ä | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç | –ï–¥. –∏–∑–º. | –û–±—ä–µ–º –ø–ª–∞–Ω | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ | –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è | ... |
|---------|------------------------|------------|--------------|--------------|------------------|-----|
| **1.** | **–†–∞–∑–¥–µ–ª CMP** | | | | | |
| 1.1 | –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã | | | | | |
| 1.1.1 | –ó–µ–º–ª—è–Ω—ã–µ —Ä–∞–±–æ—Ç—ã | –º¬≥ | 1000 | 2026-01-01 | 2026-02-15 | ... |
| 1.1.2 | –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã | –º¬≥ | 500 | 2026-02-16 | 2026-03-30 | ... |
| 1.1.3 | –ö–∏—Ä–ø–∏—á–Ω–∞—è –∫–ª–∞–¥–∫–∞ | –º¬≥ | 250 | 2026-04-01 | 2026-05-15 | ... |

### –ü—Ä–∞–≤–∏–ª–∞:

1. **–†–∞–∑–¥–µ–ª** = —Å—Ç—Ä–æ–∫–∞ –ë–ï–ó –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è
2. **–£—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ç–æ—á–∫–∞–º:
   - `1` ‚Üí Level 0 (–∫–æ—Ä–Ω–µ–≤–æ–π —Ä–∞–∑–¥–µ–ª)
   - `1.1` ‚Üí Level 1 (–ø–æ–¥—Ä–∞–∑–¥–µ–ª)
   - `1.1.1` ‚Üí Level 2 (—Ä–∞–±–æ—Ç–∞ –∏–ª–∏ –ø–æ–¥-–ø–æ–¥—Ä–∞–∑–¥–µ–ª)
   - `1.1.1.1` ‚Üí Level 3 (–∏ —Ç.–¥.)
3. **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ä–∞–∑–¥–µ–ª** –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - `1.1.2` ‚Üí parent = `1.1`
   - `1.1` ‚Üí parent = `1`
   - `1` ‚Üí parent = `null`

## üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –í —Ç–∞–±–ª–∏—Ü–µ –≥—Ä–∞—Ñ–∏–∫–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîµ 1. –†–∞–∑–¥–µ–ª CMP                        ‚îÇ (level 0)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   üü¢ 1.1 –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã          ‚îÇ (level 1)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     1.1.1 –ó–µ–º–ª—è–Ω—ã–µ —Ä–∞–±–æ—Ç—ã | 1000 –º¬≥  ‚îÇ (level 2, —Ä–∞–±–æ—Ç–∞)
‚îÇ     1.1.2 –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã | 500 –º¬≥   ‚îÇ
‚îÇ     1.1.3 –ö–∏—Ä–ø–∏—á–Ω–∞—è –∫–ª–∞–¥–∫–∞ | 250 –º¬≥   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ –∑–∞–¥–∞—á–∞ "1.1.2 –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã", –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è:

```
–†–∞–∑–¥–µ–ª CMP / –°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã / –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ì—Ä–∞—Ñ–∏–∫"**
3. –°–∫–∞—á–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω (–∏–∫–æ–Ω–∫–∞ üì•)
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —à–∞–±–ª–æ–Ω —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ (–∏–∫–æ–Ω–∫–∞ üì§)
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤
7. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é ‚Üí —É–≤–∏–¥–∏—Ç–µ —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏

## üêû –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –†–∞–∑–¥–µ–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ –ì–∞–Ω—Ç–∞
- –î–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç "-"
- –†–∞–∑–¥–µ–ª—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤–Ω–µ—Å–µ–Ω–∏—è –æ–±—ä–µ–º–æ–≤ –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –Ω–∞—Ä—è–¥–∞—Ö

## üìö –°—Å—ã–ª–∫–∏

- –ú–∏–≥—Ä–∞—Ü–∏—è: `backend/migrations/add_sections_support.sql`
- –°–∫—Ä–∏–ø—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: `backend/apply_sections_migration.py`
- Backend –ª–æ–≥–∏–∫–∞: `backend/app/routes/import_export.py`
- Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `frontend/src/components/Schedule.js`, `MonthlyOrder.js`

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ üèóÔ∏è
